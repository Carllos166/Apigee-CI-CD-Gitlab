{"openapi":"3.0.2","info":{"title":"WebHooks HUB","description":"Hub de Hooks entre GitLab, Kanbanize e Teams utilizado por estruturantes","version":"0.0.3"},"basepath":{"/api/hook/"} "paths":{"/api/hook/confluence/event":{"get":{"tags":["CONFLUENCE"],"summary":"List all Confluence events supported","operationId":"list_confluence_event_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["CONFLUENCE"],"summary":"Process Confluence event","operationId":"process_confluence_event_post","requestBody":{"content":{"application/json":{"schema":{"title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/kanbanize/event":{"get":{"tags":["KANBANIZE"],"summary":"List all kanbanize events supported","operationId":"list_kanbanize_event_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["KANBANIZE"],"summary":"Process Kanbanize event hook","operationId":"webhook_event_kanbanize_event_post","parameters":[{"required":true,"schema":{"title":"X-Kanbanize-Secret","type":"string"},"name":"x-kanbanize-secret","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KanbanizeHookInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/kanbanize/business_rule/event":{"post":{"tags":["KANBANIZE"],"summary":"Process Kanbanize event hook from business rule","operationId":"business_rule_kanbanize_business_rule_event_post","parameters":[{"required":true,"schema":{"title":"X-Kanbanize-Secret","type":"string"},"name":"x-kanbanize-secret","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KanbanizeBusinessRuleInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/gitlab/event":{"get":{"tags":["GITLAB"],"summary":"List all Gitlab events supported","operationId":"list_gitlab_event_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["GITLAB"],"summary":"Process Gitlab event hook","operationId":"process_gitlab_event_post","parameters":[{"required":true,"schema":{"title":"X-Gitlab-Token","type":"string"},"name":"x-gitlab-token","in":"header"},{"required":true,"schema":{"title":"X-Gitlab-Event","type":"string"},"name":"x-gitlab-event","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/gitlab/project/configure":{"post":{"tags":["GITLAB"],"summary":"Configure project in GitLab to rule","operationId":"project_configure_gitlab_project_configure_post","parameters":[{"required":true,"schema":{"title":"Referer","type":"string"},"name":"referer","in":"header"}],"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_project_configure_gitlab_project_configure_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/pubsub/event":{"get":{"tags":["PUBSUB"],"summary":"List all pubsub events supported","operationId":"list_pubsub_event_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["PUBSUB"],"summary":"Process PubSub subscription push event","operationId":"process_pubsub_event_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PubSubInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/metadata/value-streams":{"get":{"tags":["METADATA"],"summary":"List all values stream","operationId":"values_stream_metadata_value_streams_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/hook/metadata/value-streams/{value_stream}":{"get":{"tags":["METADATA"],"summary":"Get value stream","operationId":"values_stream_metadata_value_streams__value_stream__get","parameters":[{"required":true,"schema":{"title":"Value Stream","type":"string"},"name":"value_stream","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/metadata/value-streams/{value_stream}/squads":{"get":{"tags":["METADATA"],"summary":"List all squads by values stream","operationId":"values_stream_metadata_value_streams__value_stream__squads_get","parameters":[{"required":true,"schema":{"title":"Value Stream","type":"string"},"name":"value_stream","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/metadata/squads":{"get":{"tags":["METADATA"],"summary":"List all Squads","operationId":"squads_metadata_squads_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/hook/metadata/value-streams/{valuestream}/squads/{squad}/members":{"get":{"tags":["METADATA"],"summary":"List all members by squad","operationId":"squads_metadata_value_streams__valuestream__squads__squad__members_get","parameters":[{"required":true,"schema":{"title":"Valuestream","type":"string"},"name":"valuestream","in":"path"},{"required":true,"schema":{"title":"Squad","type":"string"},"name":"squad","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/metadata/value-streams/{valuestream}/squads/{squad}/functions":{"get":{"tags":["METADATA"],"summary":"List all functions by squad","operationId":"squads_metadata_value_streams__valuestream__squads__squad__functions_get","parameters":[{"required":true,"schema":{"title":"Valuestream","type":"string"},"name":"valuestream","in":"path"},{"required":true,"schema":{"title":"Squad","type":"string"},"name":"squad","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/metadata/value-streams/{valuestream}/squads/{squad}/functions/{function}":{"get":{"tags":["METADATA"],"summary":"Get member from funtion in squad","operationId":"squads_metadata_value_streams__valuestream__squads__squad__functions__function__get","parameters":[{"required":true,"schema":{"title":"Valuestream","type":"string"},"name":"valuestream","in":"path"},{"required":true,"schema":{"title":"Squad","type":"string"},"name":"squad","in":"path"},{"required":true,"schema":{"title":"Function","type":"string"},"name":"function","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hook/email/event":{"get":{"tags":["EMAIL"],"summary":"List all email events supported","operationId":"list_email_event_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]},"post":{"tags":["EMAIL"],"summary":"Process email event","operationId":"process_email_event_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailInput"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/api/hook/email/authorize":{"post":{"tags":["EMAIL"],"summary":"Authorize","operationId":"authorize_email_authorize_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailCredentials"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"Body_project_configure_gitlab_project_configure_post":{"title":"Body_project_configure_gitlab_project_configure_post","required":["project_id","value_stream","squad","tl_email"],"type":"object","properties":{"project_id":{"title":"Project Id","type":"integer"},"value_stream":{"title":"Value Stream","type":"string"},"squad":{"title":"Squad","type":"string"},"pm_email":{"title":"Pm Email","type":"string"},"tl_email":{"title":"Tl Email","type":"string"}}},"EmailCredentials":{"title":"EmailCredentials","required":["application_name"],"type":"object","properties":{"application_name":{"title":"Application Name","type":"string"}}},"EmailInput":{"title":"EmailInput","required":["from_addr","to_addr","subject","body"],"type":"object","properties":{"from_addr":{"title":"From Addr","type":"string"},"to_addr":{"title":"To Addr","type":"string"},"subject":{"title":"Subject","type":"string"},"body":{"title":"Body","type":"string"},"cc_addr":{"title":"Cc Addr","type":"array","items":{"type":"string"}},"from_pwd":{"title":"From Pwd","type":"string"},"host":{"title":"Host","type":"string","default":"hub.boavistaservicos.com.br"},"host_port":{"title":"Host Port","type":"string","default":587},"ssl_enable":{"title":"Ssl Enable","type":"boolean","default":true}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"KanbanizeBusinessRuleInput":{"title":"KanbanizeBusinessRuleInput","required":["kanbanize_payload"],"type":"object","properties":{"kanbanize_payload":{"$ref":"#/components/schemas/KanbanizePayload"},"subtasksProgress":{"title":"Subtasksprogress","type":"string"}}},"KanbanizeCard":{"title":"KanbanizeCard","required":["taskid","title","description","typeName","createdAt","columnname","lanename","boardName","boardid"],"type":"object","properties":{"customCardId":{"title":"Customcardid","type":"string"},"effectiveCardId":{"title":"Effectivecardid","type":"string"},"taskid":{"title":"Taskid","type":"integer"},"title":{"title":"Title","type":"string"},"description":{"title":"Description","type":"string"},"tcolor":{"title":"Tcolor","type":"string"},"priority":{"title":"Priority","type":"string"},"size":{"title":"Size","type":"integer"},"assignee":{"title":"Assignee","type":"string"},"deadline":{"title":"Deadline","type":"string"},"typeName":{"title":"Typename","type":"string"},"tags":{"title":"Tags","type":"string"},"extlink":{"title":"Extlink","type":"string"},"reporter":{"title":"Reporter","type":"string"},"createdAt":{"title":"Createdat","type":"string","format":"date-time"},"columnname":{"title":"Columnname","type":"string"},"lanename":{"title":"Lanename","type":"string"},"boardName":{"title":"Boardname","type":"string"},"subtasksProgress":{"title":"Subtasksprogress","type":"integer"},"customFields":{"title":"Customfields","type":"object"},"boardid":{"title":"Boardid","type":"integer"}}},"KanbanizeHookInput":{"title":"KanbanizeHookInput","required":["company","event","user_id","board_id","card_id"],"type":"object","properties":{"company":{"title":"Company","type":"string"},"event":{"title":"Event","type":"string"},"user_id":{"title":"User Id","type":"integer"},"board_id":{"title":"Board Id","type":"integer"},"card_id":{"title":"Card Id","type":"integer"}}},"KanbanizePayload":{"title":"KanbanizePayload","required":["trigger","triggerAuthor","timestamp","guid","card"],"type":"object","properties":{"trigger":{"title":"Trigger","type":"string"},"triggerAuthor":{"title":"Triggerauthor","type":"string"},"timestamp":{"title":"Timestamp","type":"string","format":"date-time"},"guid":{"title":"Guid","type":"string"},"card":{"$ref":"#/components/schemas/KanbanizeCard"}}},"PubSubInput":{"title":"PubSubInput","required":["message","subscription"],"type":"object","properties":{"message":{"$ref":"#/components/schemas/PubSubInputMessage"},"subscription":{"title":"Subscription","type":"string"}}},"PubSubInputAttributesMessage":{"title":"PubSubInputAttributesMessage","required":["eventTime","eventType","payloadFormat","ddm_secret"],"type":"object","properties":{"bucketId":{"title":"Bucketid","type":"string"},"eventTime":{"title":"Eventtime","type":"string","format":"date-time"},"eventType":{"title":"Eventtype","type":"string"},"notificationConfig":{"title":"Notificationconfig","type":"string"},"objectGeneration":{"title":"Objectgeneration","type":"string"},"objectId":{"title":"Objectid","type":"string"},"overwroteGeneration":{"title":"Overwrotegeneration","type":"string"},"payloadFormat":{"title":"Payloadformat","type":"string"},"ddm_secret":{"title":"Ddm Secret","type":"string"}}},"PubSubInputMessage":{"title":"PubSubInputMessage","required":["attributes","data","messageId","message_id","publishTime","publish_time"],"type":"object","properties":{"attributes":{"$ref":"#/components/schemas/PubSubInputAttributesMessage"},"data":{"title":"Data","type":"string"},"messageId":{"title":"Messageid","type":"string"},"message_id":{"title":"Message Id","type":"string"},"publishTime":{"title":"Publishtime","type":"string","format":"date-time"},"publish_time":{"title":"Publish Time","type":"string","format":"date-time"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-KEY"}}}}
